{% extends 'base.html' %}
{% from "_macros.html" import render_field, render_fields, switch_status %}

{% block content %}
<div class="row mb-2">
  <div class="col-10 me-0"><h3 class="legend-color">{{ legend }}</h3></div>
  {% include 'auth/breadcrumb_user.html' %}
</div>
<hr>
<div class="row d-flex justify-content-around">
    <div class="col">{% include 'admin/search_tutor_bar.html'  %}</div>
</div>

<div class="row p-2">

  <div class="col-lg-12 mx-auto shadow">
    <div  class="table-responsive">
      <table class="table table-fixed table-hover table-striped">
          <thead>
    <tr style="font-size:0.8rem">
      <th scope="col" >First</th>
      <th scope="col">Last</th>
      <th scope="col">Email</th>
      <th scope="col">Phone</th>
      <th scope="col">Birth Date</th>
      <th scope="col">Eng.</th>
      <th scope="col">When</th>
      <th scope="col" class="col">Subjects</th>
      <th scope="col" class="col">Mods.</th>
      <th scope="col">Status</th>
      <th scope="col">Select</th>
    </tr>
  </thead>
          <tbody>
              {% for tutor in data %}

              <tr style="font-size:0.8rem">

                  <td height="50">{{tutor.first_name}}</td>
                  <td>{{tutor.last_name}}</td>
                  <td>{{tutor.email}}</td>
                  <td>{{tutor.my_info.phone}}</td>
                  <td>{{tutor.my_info.birth_date}}</td>
                  <td>{{tutor.more.inquiry}}</td>
                  <td>{{tutor.tutoring_exp.engagement}}</td>
                  <td>
                    <div style="height: 40px; overflow:scroll;">
                    {% for item in tutor.tutoring_exp.tutor_availabilities %}
                    <p class="mb-0">{{item.day_possible}}</p>
                    {% endfor %}
                    </div>
                  </td>
                  <td>
                    <div style="height: 40px; overflow:scroll;">
                    {% for item in tutor.tutoring_exp.tutor_subjects %}
                    <p class="mb-0">{{item.subject}}</p>
                    {% endfor %}
                    </div>
                  </td>
                  <td>
                    <div style="height: 40px; overflow:scroll;">
                    {% for mod in tutor.tutoring_exp.tutor_modalities %}
                    <p class="mb-0">{{mod.modality}}</p>
                    {% endfor %}
                    </div>
                  </td>
                  <td>{{switch_status(tutor.status)}}</td>
                  <td><a href="{{url_for('admin.get_tutor_by_id', tutor_id=tutor.id)}}"><i class="bi bi-box-arrow-up-right text-decoration-none text-secondary"></i></a></td>
                </tr>

              {% endfor %}
          </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}